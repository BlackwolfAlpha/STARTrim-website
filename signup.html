<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STARTrimCommunity</title>
    <link rel="icon" type="image/x-icon" href="design/Logos/logo.png">
    <link rel="stylesheet" href="design/style.css">
    <link rel="stylesheet" href="design/teams.css">
    <link rel="stylesheet" href="design/signup.css">
</head>
<body>
    <div class="background">
        <div class="navbar">
            <div class="menu">
                <div class="logo">
                    <img src="design/Logos/startrimlogo.png" alt="STARTrim Logo">
                </div>
            </div>
            <div class="language-selector">
                <select id="language-select">
                    <option value="en">English</option>
                    <option value="he">עברית</option>
                </select>
            </div>
        </div>

        <div class="sign-up-form">
            <h1 id="your-information-heading">Your Information</h1>
            <form id="signup-form" method="post" action="">
                <h2 id="join-community-heading">Join the Community</h2>
                <p class="par" style="color:white; font-size: 20px;" data-translate="USER_TEST_INFO"><br> To join the community you will need to pass
                    the following user test: <strong>Note:</strong> You must be between the ages of 12-18.</p>
                <h3><span class="par" style="color:white;" id="EMAIL-UP">Your Email</span></h3>
                <input type="email" id="email" name="email" class="input-box" placeholder="Your Email" required>
                <div style="display: flex; justify-content: center; align-items: center;">
                    <div style="margin-right: 10px;">
                        <h3><span class="par" style="color:white;" id="FIRST-NAME">First Name</span></h3>
                        <input type="text" id="first_name" name="first_name" class="input-box" placeholder="First Name" required>
                    </div>
                    <div style="margin-left: 10px;">
                        <h3><span class="par" style="color:white;" id="LAST-NAME">Last Name</span></h3>
                        <input type="text" id="last_name" name="last_name" class="input-box" placeholder="Last Name" required>
                    </div>
                </div>

                <h3><span class="par" style="color:white;" id="PASSWORD-LABEL">Your password</span></h3>
                <input type="password" id="password" name="password" class="input-box" placeholder="Your Password" pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$"
                       title="Password must contain at least 8 characters, including one letter and one number" required><br>
                <label style="font-size: 20px; color:white;"><span id="CITY-CHOOSE">Choose your city:</span>
                    <select id="city" name="city" style="font-size: 16px; font-weight: bold;" required>
                        <option value="telaviv" id="telaviv">Tel Aviv</option>
                        <option value="jerusalem" id="jerusalem">Jerusalem</option>
                        <option value="haifa" id="haifa">Haifa</option>
                        <option value="beer-sheva" id="beer-sheva">Beer Sheva</option>
                    </select>
                </label>

                <label style="font-size: 20px; color:white;"><span id="AGE-CHOOSE">Choose your age:</span>
                    <select id="age" name="age" style="font-size: 16px; font-weight: bold;" required>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                    </select>
                </label>

                <h3><span class="par" style="color:white;" id="TELL-ABOUT-SELF">*Tell us about yourself, and why do you want to join the community?</span></h3>
                <textarea id="about_yourself" name="about_yourself" rows="2" cols="40" placeholder="Tell us about yourself..." style="font-size: 24px;" required></textarea>

                <h3><span class="par" style="color:white;" id="STRENGTHS_LABEL">*What can you give to the community? (Where are your strengths?)</span></h3>
                <textarea id="strengths" name="strengths" rows="2" cols="40" placeholder="What can you contribute..." style="font-size: 24px;" required></textarea>

                <label style="font-size: 20px; color:white;"><span id="hear-about">How did you hear about us?:</span>
                    <select id="find" name="how_you_heard" style="font-size: 16px; font-weight: bold;" required>
                        <option value="Friends" id="friends">Friends</option>
                        <option value="Social Networks" id="social">Social Networks</option>
                        <option value="School" id="school">School</option>
                        <option value="Other" id="other">Other</option>
                    </select>
                </label>

                <p><span><input type="checkbox" id="terms_agreement" name="terms_agreement" required></span><span id="terms-agreement-text" style="color:white;">I agree to the terms of services</span></p>
                <button type="submit" class="button" id="submit-btn">Apply to join</button>

                <hr>
                <p class="or" style="color:white;">OR</p>
                <p style="color:white;">Do you have an account? <a href="index.html">Sign in</a></p>
            </form>
        </div>
        <div class="modal" style="display: none;">
            <article class="modal-container">
                <header class="modal-container-header">
                    <span class="modal-container-title">
                        <svg aria-hidden="true" height="24" width="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0 0h24v24H0z" fill="none"></path>
                            <path d="M14 9V4H5v16h6.056c.328.417.724.785 1.18 1.085l1.39.915H3.993A.993.993 0 0 1 3 21.008V2.992C3 2.455 3.449 2 4.002 2h10.995L21 8v1h-7zm-2 2h9v5.949c0 .99-.501 1.916-1.336 2.465L16.5 21.498l-3.164-2.084A2.953 2.953 0 0 1 12 16.95V11zm2 5.949c0 .316.162.614.436.795l2.064 1.36 2.064-1.36a.954.954 0 0 0 .436-.795V13h-5v3.949z" fill="currentColor"></path>
                        </svg>
                        Terms and Services
                    </span>
                    <button class="icon-button">
                        <svg height="24" width="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0 0h24v24H0z" fill="none"></path>
                            <path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z" fill="currentColor"></path>
                        </svg>
                    </button>
                </header>
                <section class="modal-container-body rtf" id="MODAL_CONTENT">
                    <span>Your consent to our use of cookies in accordance with this policy during your visit and activity on this site allows us to use cookies.</span>
                    <p>every time you visit this site. This site is operated and maintained jointly by the development team of 'STARTrim' in collaboration with the Ministry of Education. </p>
                    <span> Any information about an individual retained by the agency,</span>
                    <p>including any information that can be used to identify or track a person's identity, such as name, email, age, personal passwords, may be collected, stored, and used.</p>

                    <p><span>The following types of personal information may be collected, stored, and used:</span></p>
                    <ol>
                        <li>Information about your computer, including IP address.</li>
                        <li>Information about your visits and use of the site, including referral source, visit length, page views, and your site navigation paths.</li>
                        <li>Information, such as your name and email address, that you enter when creating a user account and logging into the site.</li>
                        <li>Information you enter while using our site; posts and information you share with others on the site.</li>
                        <li>Any other type of personal information you send to us.</li>
                    </ol>

                    <p>Before you disclose to us the personal information of another person, you must obtain the consent </p>
                    <span>that person for both sharing and processing of such personal information in accordance with this policy.</span>
                </section>
                <footer class="modal-container-footer">
                    <button class="button is-ghost">Decline</button>
                    <button class="button is-primary">Accept</button>
                </footer>
            </article>
        </div>
    </div>

    <script src="java script/STARTrimData.js"></script>
    <script src="java script/Terms agree.js"></script>
    <script>
        document.getElementById('language-select').addEventListener('change', function() {
            var selectedLanguage = this.value;
            changeLanguage(selectedLanguage);
            localStorage.setItem('preferredLanguage', selectedLanguage);
        });

        function changeLanguage(selectedLanguage) {
            fetch('Language/' + selectedLanguage + '.json')
                .then(response => response.json())
                .then(data => {
                    document.querySelectorAll('[data-translate]').forEach(element => {
                        const key = element.getAttribute('data-translate');
                        if (data[key]) {
                            element.textContent = data[key];
                        }
                    });

                    // Updating specific element IDs with translated content
                    document.getElementById('your-information-heading').textContent = data['YOUR_INFORMATION'];
                    document.getElementById('join-community-heading').textContent = data['JOIN_COMMUNITY'];
                    document.getElementById('EMAIL-UP').textContent = data['YOUR_EMAIL'];
                    document.getElementById('FIRST-NAME').textContent = data['FIRST_NAME_LABEL'];
                    document.getElementById('LAST-NAME').textContent = data['LAST_NAME_LABEL'];
                    document.getElementById('PASSWORD-LABEL').textContent = data['YOUR_PASSWORD'];
                    document.getElementById('TELL-ABOUT-SELF').textContent = data['ABOUT_YOURSELF_LABEL'];
                    document.getElementById('STRENGTHS_LABEL').textContent = data['YOUR_STRENGTHS_LABEL'];
                    document.getElementById('AGE-CHOOSE').textContent = data['CHOOSE_AGE_LABEL'];
                    document.getElementById('CITY-CHOOSE').textContent = data['CHOOSE_CITY_LABEL'];
                    document.getElementById('telaviv').textContent = data['TELAVIV_OPTION'];
                    document.getElementById('jerusalem').textContent = data['JERUSALEM_OPTION'];
                    document.getElementById('haifa').textContent = data['HAIFA_OPTION'];
                    document.getElementById('beer-sheva').textContent = data['BEER_SHEVA_OPTION'];
                    document.getElementById('hear-about').textContent = data['HOW_HEARD_LABEL'];
                    document.getElementById('friends').textContent = data['FRIENDS_OPTION'];
                    document.getElementById('social').textContent = data['SOCIAL_NETWORKS_OPTION'];
                    document.getElementById('school').textContent = data['SCHOOL_OPTION'];
                    document.getElementById('other').textContent = data['OTHER_OPTION'];
                    document.getElementById('terms-agreement-text').textContent = data['TERMS_AGREEMENT_TEXT'];
                    document.getElementById('MODAL_CONTENT').innerHTML = data['MODAL_CONTENT'];
                })
                .catch(error => console.error('Error fetching language file:', error));
        }

        document.addEventListener('DOMContentLoaded', function() {
            var preferredLanguage = localStorage.getItem('preferredLanguage');
            if (preferredLanguage) {
                document.getElementById('language-select').value = preferredLanguage;
                changeLanguage(preferredLanguage);
            } else {
                var defaultLanguage = document.getElementById('language-select').value;
                changeLanguage(defaultLanguage);
            }
        });

        document.addEventListener('DOMContentLoaded', function() {
            const submitButton = document.getElementById('submit-btn');
            submitButton.addEventListener('click', async function(event) {
                event.preventDefault();
                await submitForm();
            });
        });

    </script>
</body>
</html>
